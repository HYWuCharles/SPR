function binary = img2bins(path)

%?????img2bins
%params:path?????????????
%return:?????????????????????????binary

image = imread(path);

%temp = dec2bin(image);
%s = size(temp);
%binary = reshape(temp,1,s(1,1)*s(1,2));

[M,N] = size(image);
 imagel = image(:);
 P = zeros(1,256);
 %?????????????????????????
 for i = 0:255
     P(i+1) = length(find(imagel == i))/(M*N);
 end

 k = 0:255;
 dict = huffmandict(k,P); %?????????????
 binary = huffmanenco(imagel,dict); %?????
 %deco = huffmandeco(binary,dict); %?????
 %Ide = col2im(deco,[M,N],[M,N],'distinct'); %????????????????????????????

% subplot(1,2,1);imshow(image);title('original image');
 %subplot(1,2,2);imshow(uint8(Ide));title('deco image');